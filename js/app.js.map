{"version":3,"sources":["modernizr.js","zepto.js","detect.js","event.js","gesture.js","ie.js","touch.js","grapnel.js","main.js","animation.js","carousel.js","home.js","item.js","menu.js"],"names":["window","document","undefined","is","obj","type","_typeof","testRunner","featureNames","feature","aliasIdx","result","nameIdx","featureName","featureNameSplit","featureIdx","tests","hasOwnProperty","name","push","toLowerCase","options","aliases","length","fn","split","Modernizr","Boolean","classes","join","setClasses","className","docElement","classPrefix","_config","isSVG","baseVal","enableJSClass","reJS","RegExp","replace","enableClasses","addTest","test","key","hasOwnProp","last","_trigger","contains","str","substr","indexOf","createElement","arguments","createElementNS","call","apply","getBody","body","fake","injectElementWithStyles","rule","callback","nodes","testnames","style","ret","node","docOverflow","mod","div","parseInt","id","appendChild","styleSheet","cssText","createTextNode","background","overflow","parentNode","removeChild","offsetHeight","domToCSS","m1","nativeTestProps","props","value","i","CSS","supports","conditionText","getComputedStyle","position","cssToDOM","m2","toUpperCase","testProps","prefixed","skipValueTest","cleanElems","afterInit","mStyle","modElem","propsLength","prop","before","elems","shift","e","ModernizrProto","_version","usePrefixes","_q","on","cb","self","this","setTimeout","addAsyncTest","prototype","_hasOwnProperty","object","property","constructor","documentElement","nodeName","_l","res","cbs","addStyleSheet","ownerDocument","p","parent","getElementsByTagName","innerHTML","insertBefore","lastChild","firstChild","getElements","elements","html5","addElements","newElements","shivDocument","getExpandoData","data","expandoData","expando","expanID","supportsUnknownElements","cache","cloneNode","saveClones","createElem","canHaveChildren","reSkip","tagUrn","frag","createDocumentFragment","clone","l","shivMethods","createFrag","Function","shivCSS","supportsHtml5Styles","hasCSS","addWrappers","index","reElements","applyElement","createWrapper","element","attributes","wrapper","shivNamespace","specified","setAttribute","nodeValue","shivCssText","pair","parts","replacement","removeWrappers","wrappers","removeNode","shivPrint","removeSheet","clearTimeout","_removeSheetTimer","shivedSheet","namespaces","ownerWindow","parentWindow","supportsShivableSheets","printShived","add","attachEvent","imports","sheet","collection","styleSheets","sheets","Array","pop","disabled","reMedia","media","er","reverse","version","a","childNodes","docEl","module","exports","elem","unshift","prefixes","testProp","useValue","_prefixes","testStyles","bool","DocumentTouch","query","offsetTop","Zepto","String","class2type","toString","isFunction","isWindow","isDocument","nodeType","DOCUMENT_NODE","isObject","isPlainObject","Object","getPrototypeOf","likeArray","$","compact","array","filter","item","flatten","concat","dasherize","classRE","classCache","maybeAddPx","cssNumber","defaultDisplay","display","elementDisplay","getPropertyValue","children","slice","map","Z","dom","selector","len","extend","target","source","deep","isArray","filtered","funcArg","context","arg","idx","payload","removeAttribute","klass","svg","deserializeValue","parseJSON","traverseNode","fun","classList","camelize","uniq","emptyArray","column-count","columns","font-weight","line-height","opacity","z-index","zoom","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","adjacencyOperators","table","tableRow","containers","tr","tbody","thead","tfoot","td","th","*","readyRE","simpleSelectorRE","zepto","tempParent","propMap","tabindex","readonly","for","class","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","match","temp","qsa","chr","fragment","html","properties","container","$1","each","attr","isZ","init","trim","find","ready","args","forEach","found","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","querySelectorAll","isEmptyObject","isNumeric","val","num","Number","isNaN","isFinite","inArray","camelCase","uuid","support","expr","noop","values","grep","JSON","parse","reduce","sort","splice","toArray","el","readyState","addEventListener","get","size","remove","every","not","excludes","has","eq","first","$this","some","closest","_","parents","ancestors","pluck","contents","contentDocument","siblings","child","empty","show","replaceWith","newContent","wrap","structure","func","wrapAll","append","wrapInner","unwrap","hide","css","toggle","setting","prev","next","originHtml","text","newText","textContent","getAttribute","removeAttr","attribute","removeProp","attrName","multiple","selected","offset","coordinates","coords","parentOffset","offsetParent","top","left","getBoundingClientRect","pageXOffset","pageYOffset","width","Math","round","height","computedStyle","removeProperty","hasClass","addClass","cls","newName","removeClass","toggleClass","when","names","scrollTop","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","parseFloat","detach","dimension","dimensionProperty","m","operator","operatorIndex","inside","argType","arr","copyByClone","nextSibling","parentInDocument","src","defaultView","detect","ua","platform","os","browser","webkit","android","osx","ipad","ipod","iphone","webos","win","wp","touchpad","kindle","silk","blackberry","bb10","rimtabletos","playbook","chrome","firefox","firefoxos","ie","webview","safari","ios","tablet","phone","navigator","userAgent","__detect","zid","_zid","findHandlers","event","ns","matcher","matcherFor","handlers","handler","sel","eventCapture","captureSetting","del","focusinSupported","focus","realEvent","hover","events","delegator","capture","set","related","relatedTarget","proxy","compatible","isImmediatePropagationStopped","_args","preventDefault","stopPropagation","removeEventListener","isDefaultPrevented","eventMethods","predicate","sourceMethod","returnTrue","returnFalse","timeStamp","Date","now","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","ignoreProperties","isString","specialEvents","blur","mouseenter","mouseleave","click","mousedown","mouseup","mousemove","proxyFn","TypeError","bind","unbind","off","one","stopImmediatePropagation","delegate","undelegate","live","die","autoRemove","evt","currentTarget","liveFired","trigger","Event","dispatchEvent","triggerHandler","createEvent","bubbles","initEvent","gesture","gestureTimeout","parentIfText","e1","scale","e2","abs","nativeGetComputedStyle","pseudoElement","swipeDirection","x1","x2","y1","y2","longTap","longTapTimeout","touch","cancelLongTap","cancelAll","touchTimeout","tapTimeout","swipeTimeout","isPrimaryTouch","pointerType","MSPOINTER_TYPE_TOUCH","isPrimary","isPointerEventType","longTapDelay","delta","firstTouch","_isPointerType","deltaX","deltaY","MSGesture","swipeDirectionFromVelocity","velocityX","velocityY","touches","pageX","pageY","isDoubleTap","addPointer","pointerId","cancelTouch","eventName","root","Grapnel","opts","state","env","keys","process","mode","pushState","history","previousState","CallStack","router","extendObj","stack","global","runCallback","callbackRan","propagateEvent","path","Request","route","regex","regexRoute","sensitive","strict","slash","format","optional","_forEach","c","n","middleware","request","invoke","req","extra","params","enqueue","once","ran","submiddleware","prefix","pattern","navigate","pathname","location","hash","hashBang","_pathname","listen","routes","hasParentEvents","atIndex","decodeURIComponent","define","amd","grapnel","require","App","listener","getCurrentState","$currentPage","$e","classOnLoad","$currentStep","pageId","stepId","showPage","page","step","steps","backAction","deffered","$cookie","clicks","$forest","chatUnlocked","$chat","$chatControls","$controlInput","$chatReply","$chatAnswerWrong","$chatAnswerCorrect","$phone3d","touchevents","$factory","$counter","$item","$text1","$text2","texts","current","score","random","Carousel","_classCallCheck","$target","_this","slides","arrows","items","count","goto","Error","$progress","$navigationBar","$overlay","totalSteps","progress","carousel","alert"],"mappings":"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","file":"app.js","sourcesContent":["/*!\n * modernizr v3.3.1\n * Build http://modernizr.com/download?-touchevents-addtest-fnbind-printshiv-testprop-dontmin\n *\n * Copyright (c)\n *  Faruk Ates\n *  Paul Irish\n *  Alex Sexton\n *  Ryan Seddon\n *  Patrick Kettner\n *  Stu Cox\n *  Richard Herrera\n\n * MIT License\n */\n\n/*\n * Modernizr tests which native CSS3 and HTML5 features are available in the\n * current UA and makes the results available to you in two ways: as properties on\n * a global `Modernizr` object, and as classes on the `<html>` element. This\n * information allows you to progressively enhance your pages with a granular level\n * of control over the experience.\n*/\n\n;(function(window, document, undefined){\n  var tests = [];\n  \n\n  /**\n   *\n   * ModernizrProto is the constructor for Modernizr\n   *\n   * @class\n   * @access public\n   */\n\n  var ModernizrProto = {\n    // The current version, dummy\n    _version: '3.3.1',\n\n    // Any settings that don't work as separate modules\n    // can go in here as configuration.\n    _config: {\n      'classPrefix': '',\n      'enableClasses': true,\n      'enableJSClass': true,\n      'usePrefixes': true\n    },\n\n    // Queue of tests\n    _q: [],\n\n    // Stub these for people who are listening\n    on: function(test, cb) {\n      // I don't really think people should do this, but we can\n      // safe guard it a bit.\n      // -- NOTE:: this gets WAY overridden in src/addTest for actual async tests.\n      // This is in case people listen to synchronous tests. I would leave it out,\n      // but the code to *disallow* sync tests in the real version of this\n      // function is actually larger than this.\n      var self = this;\n      setTimeout(function() {\n        cb(self[test]);\n      }, 0);\n    },\n\n    addTest: function(name, fn, options) {\n      tests.push({name: name, fn: fn, options: options});\n    },\n\n    addAsyncTest: function(fn) {\n      tests.push({name: null, fn: fn});\n    }\n  };\n\n  \n\n  // Fake some of Object.create so we can force non test results to be non \"own\" properties.\n  var Modernizr = function() {};\n  Modernizr.prototype = ModernizrProto;\n\n  // Leak modernizr globally when you `require` it rather than force it here.\n  // Overwrite name so constructor name is nicer :D\n  Modernizr = new Modernizr();\n\n  \n\n  var classes = [];\n  \n\n  /**\n   * is returns a boolean if the typeof an obj is exactly type.\n   *\n   * @access private\n   * @function is\n   * @param {*} obj - A thing we want to check the type of\n   * @param {string} type - A string to compare the typeof against\n   * @returns {boolean}\n   */\n\n  function is(obj, type) {\n    return typeof obj === type;\n  }\n  ;\n\n  /**\n   * Run through all tests and detect their support in the current UA.\n   *\n   * @access private\n   */\n\n  function testRunner() {\n    var featureNames;\n    var feature;\n    var aliasIdx;\n    var result;\n    var nameIdx;\n    var featureName;\n    var featureNameSplit;\n\n    for (var featureIdx in tests) {\n      if (tests.hasOwnProperty(featureIdx)) {\n        featureNames = [];\n        feature = tests[featureIdx];\n        // run the test, throw the return value into the Modernizr,\n        // then based on that boolean, define an appropriate className\n        // and push it into an array of classes we'll join later.\n        //\n        // If there is no name, it's an 'async' test that is run,\n        // but not directly added to the object. That should\n        // be done with a post-run addTest call.\n        if (feature.name) {\n          featureNames.push(feature.name.toLowerCase());\n\n          if (feature.options && feature.options.aliases && feature.options.aliases.length) {\n            // Add all the aliases into the names list\n            for (aliasIdx = 0; aliasIdx < feature.options.aliases.length; aliasIdx++) {\n              featureNames.push(feature.options.aliases[aliasIdx].toLowerCase());\n            }\n          }\n        }\n\n        // Run the test, or use the raw value if it's not a function\n        result = is(feature.fn, 'function') ? feature.fn() : feature.fn;\n\n\n        // Set each of the names on the Modernizr object\n        for (nameIdx = 0; nameIdx < featureNames.length; nameIdx++) {\n          featureName = featureNames[nameIdx];\n          // Support dot properties as sub tests. We don't do checking to make sure\n          // that the implied parent tests have been added. You must call them in\n          // order (either in the test, or make the parent test a dependency).\n          //\n          // Cap it to TWO to make the logic simple and because who needs that kind of subtesting\n          // hashtag famous last words\n          featureNameSplit = featureName.split('.');\n\n          if (featureNameSplit.length === 1) {\n            Modernizr[featureNameSplit[0]] = result;\n          } else {\n            // cast to a Boolean, if not one already\n            /* jshint -W053 */\n            if (Modernizr[featureNameSplit[0]] && !(Modernizr[featureNameSplit[0]] instanceof Boolean)) {\n              Modernizr[featureNameSplit[0]] = new Boolean(Modernizr[featureNameSplit[0]]);\n            }\n\n            Modernizr[featureNameSplit[0]][featureNameSplit[1]] = result;\n          }\n\n          classes.push((result ? '' : 'no-') + featureNameSplit.join('-'));\n        }\n      }\n    }\n  }\n  ;\n\n  /**\n   * hasOwnProp is a shim for hasOwnProperty that is needed for Safari 2.0 support\n   *\n   * @author kangax\n   * @access private\n   * @function hasOwnProp\n   * @param {object} object - The object to check for a property\n   * @param {string} property - The property to check for\n   * @returns {boolean}\n   */\n\n  // hasOwnProperty shim by kangax needed for Safari 2.0 support\n  var hasOwnProp;\n\n  (function() {\n    var _hasOwnProperty = ({}).hasOwnProperty;\n    /* istanbul ignore else */\n    /* we have no way of testing IE 5.5 or safari 2,\n     * so just assume the else gets hit */\n    if (!is(_hasOwnProperty, 'undefined') && !is(_hasOwnProperty.call, 'undefined')) {\n      hasOwnProp = function(object, property) {\n        return _hasOwnProperty.call(object, property);\n      };\n    }\n    else {\n      hasOwnProp = function(object, property) { /* yes, this can give false positives/negatives, but most of the time we don't care about those */\n        return ((property in object) && is(object.constructor.prototype[property], 'undefined'));\n      };\n    }\n  })();\n\n  \n\n  /**\n   * docElement is a convenience wrapper to grab the root element of the document\n   *\n   * @access private\n   * @returns {HTMLElement|SVGElement} The root element of the document\n   */\n\n  var docElement = document.documentElement;\n  \n\n  /**\n   * A convenience helper to check if the document we are running in is an SVG document\n   *\n   * @access private\n   * @returns {boolean}\n   */\n\n  var isSVG = docElement.nodeName.toLowerCase() === 'svg';\n  \n\n  /**\n   * setClasses takes an array of class names and adds them to the root element\n   *\n   * @access private\n   * @function setClasses\n   * @param {string[]} classes - Array of class names\n   */\n\n  // Pass in an and array of class names, e.g.:\n  //  ['no-webp', 'borderradius', ...]\n  function setClasses(classes) {\n    var className = docElement.className;\n    var classPrefix = Modernizr._config.classPrefix || '';\n\n    if (isSVG) {\n      className = className.baseVal;\n    }\n\n    // Change `no-js` to `js` (independently of the `enableClasses` option)\n    // Handle classPrefix on this too\n    if (Modernizr._config.enableJSClass) {\n      var reJS = new RegExp('(^|\\\\s)' + classPrefix + 'no-js(\\\\s|$)');\n      className = className.replace(reJS, '$1' + classPrefix + 'js$2');\n    }\n\n    if (Modernizr._config.enableClasses) {\n      // Add the new classes\n      className += ' ' + classPrefix + classes.join(' ' + classPrefix);\n      isSVG ? docElement.className.baseVal = className : docElement.className = className;\n    }\n\n  }\n\n  ;\n\n\n   // _l tracks listeners for async tests, as well as tests that execute after the initial run\n  ModernizrProto._l = {};\n\n  /**\n   * Modernizr.on is a way to listen for the completion of async tests. Being\n   * asynchronous, they may not finish before your scripts run. As a result you\n   * will get a possibly false negative `undefined` value.\n   *\n   * @memberof Modernizr\n   * @name Modernizr.on\n   * @access public\n   * @function on\n   * @param {string} feature - String name of the feature detect\n   * @param {function} cb - Callback function returning a Boolean - true if feature is supported, false if not\n   * @example\n   *\n   * ```js\n   * Modernizr.on('flash', function( result ) {\n   *   if (result) {\n   *    // the browser has flash\n   *   } else {\n   *     // the browser does not have flash\n   *   }\n   * });\n   * ```\n   */\n\n  ModernizrProto.on = function(feature, cb) {\n    // Create the list of listeners if it doesn't exist\n    if (!this._l[feature]) {\n      this._l[feature] = [];\n    }\n\n    // Push this test on to the listener list\n    this._l[feature].push(cb);\n\n    // If it's already been resolved, trigger it on next tick\n    if (Modernizr.hasOwnProperty(feature)) {\n      // Next Tick\n      setTimeout(function() {\n        Modernizr._trigger(feature, Modernizr[feature]);\n      }, 0);\n    }\n  };\n\n  /**\n   * _trigger is the private function used to signal test completion and run any\n   * callbacks registered through [Modernizr.on](#modernizr-on)\n   *\n   * @memberof Modernizr\n   * @name Modernizr._trigger\n   * @access private\n   * @function _trigger\n   * @param {string} feature - string name of the feature detect\n   * @param {function|boolean} [res] - A feature detection function, or the boolean =\n   * result of a feature detection function\n   */\n\n  ModernizrProto._trigger = function(feature, res) {\n    if (!this._l[feature]) {\n      return;\n    }\n\n    var cbs = this._l[feature];\n\n    // Force async\n    setTimeout(function() {\n      var i, cb;\n      for (i = 0; i < cbs.length; i++) {\n        cb = cbs[i];\n        cb(res);\n      }\n    }, 0);\n\n    // Don't trigger these again\n    delete this._l[feature];\n  };\n\n  /**\n   * addTest allows you to define your own feature detects that are not currently\n   * included in Modernizr (under the covers it's the exact same code Modernizr\n   * uses for its own [feature detections](https://github.com/Modernizr/Modernizr/tree/master/feature-detects)). Just like the offical detects, the result\n   * will be added onto the Modernizr object, as well as an appropriate className set on\n   * the html element when configured to do so\n   *\n   * @memberof Modernizr\n   * @name Modernizr.addTest\n   * @optionName Modernizr.addTest()\n   * @optionProp addTest\n   * @access public\n   * @function addTest\n   * @param {string|object} feature - The string name of the feature detect, or an\n   * object of feature detect names and test\n   * @param {function|boolean} test - Function returning true if feature is supported,\n   * false if not. Otherwise a boolean representing the results of a feature detection\n   * @example\n   *\n   * The most common way of creating your own feature detects is by calling\n   * `Modernizr.addTest` with a string (preferably just lowercase, without any\n   * punctuation), and a function you want executed that will return a boolean result\n   *\n   * ```js\n   * Modernizr.addTest('itsTuesday', function() {\n   *  var d = new Date();\n   *  return d.getDay() === 2;\n   * });\n   * ```\n   *\n   * When the above is run, it will set Modernizr.itstuesday to `true` when it is tuesday,\n   * and to `false` every other day of the week. One thing to notice is that the names of\n   * feature detect functions are always lowercased when added to the Modernizr object. That\n   * means that `Modernizr.itsTuesday` will not exist, but `Modernizr.itstuesday` will.\n   *\n   *\n   *  Since we only look at the returned value from any feature detection function,\n   *  you do not need to actually use a function. For simple detections, just passing\n   *  in a statement that will return a boolean value works just fine.\n   *\n   * ```js\n   * Modernizr.addTest('hasJquery', 'jQuery' in window);\n   * ```\n   *\n   * Just like before, when the above runs `Modernizr.hasjquery` will be true if\n   * jQuery has been included on the page. Not using a function saves a small amount\n   * of overhead for the browser, as well as making your code much more readable.\n   *\n   * Finally, you also have the ability to pass in an object of feature names and\n   * their tests. This is handy if you want to add multiple detections in one go.\n   * The keys should always be a string, and the value can be either a boolean or\n   * function that returns a boolean.\n   *\n   * ```js\n   * var detects = {\n   *  'hasjquery': 'jQuery' in window,\n   *  'itstuesday': function() {\n   *    var d = new Date();\n   *    return d.getDay() === 2;\n   *  }\n   * }\n   *\n   * Modernizr.addTest(detects);\n   * ```\n   *\n   * There is really no difference between the first methods and this one, it is\n   * just a convenience to let you write more readable code.\n   */\n\n  function addTest(feature, test) {\n\n    if (typeof feature == 'object') {\n      for (var key in feature) {\n        if (hasOwnProp(feature, key)) {\n          addTest(key, feature[ key ]);\n        }\n      }\n    } else {\n\n      feature = feature.toLowerCase();\n      var featureNameSplit = feature.split('.');\n      var last = Modernizr[featureNameSplit[0]];\n\n      // Again, we don't check for parent test existence. Get that right, though.\n      if (featureNameSplit.length == 2) {\n        last = last[featureNameSplit[1]];\n      }\n\n      if (typeof last != 'undefined') {\n        // we're going to quit if you're trying to overwrite an existing test\n        // if we were to allow it, we'd do this:\n        //   var re = new RegExp(\"\\\\b(no-)?\" + feature + \"\\\\b\");\n        //   docElement.className = docElement.className.replace( re, '' );\n        // but, no rly, stuff 'em.\n        return Modernizr;\n      }\n\n      test = typeof test == 'function' ? test() : test;\n\n      // Set the value (this is the magic, right here).\n      if (featureNameSplit.length == 1) {\n        Modernizr[featureNameSplit[0]] = test;\n      } else {\n        // cast to a Boolean, if not one already\n        /* jshint -W053 */\n        if (Modernizr[featureNameSplit[0]] && !(Modernizr[featureNameSplit[0]] instanceof Boolean)) {\n          Modernizr[featureNameSplit[0]] = new Boolean(Modernizr[featureNameSplit[0]]);\n        }\n\n        Modernizr[featureNameSplit[0]][featureNameSplit[1]] = test;\n      }\n\n      // Set a single class (either `feature` or `no-feature`)\n      /* jshint -W041 */\n      setClasses([(!!test && test != false ? '' : 'no-') + featureNameSplit.join('-')]);\n      /* jshint +W041 */\n\n      // Trigger the event\n      Modernizr._trigger(feature, test);\n    }\n\n    return Modernizr; // allow chaining.\n  }\n\n  // After all the tests are run, add self to the Modernizr prototype\n  Modernizr._q.push(function() {\n    ModernizrProto.addTest = addTest;\n  });\n\n  \n\n\n/**\n  * @optionName html5printshiv\n  * @optionProp html5printshiv\n  */\n\n  // Take the html5 variable out of the html5shiv scope so we can return it.\n  var html5;\n  if (!isSVG) {\n\n    /**\n     * @preserve HTML5 Shiv 3.7.3 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed\n     */\n    ;(function(window, document) {\n      /*jshint evil:true */\n      /** version */\n      var version = '3.7.3';\n\n      /** Preset options */\n      var options = window.html5 || {};\n\n      /** Used to skip problem elements */\n      var reSkip = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;\n\n      /** Not all elements can be cloned in IE **/\n      var saveClones = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;\n\n      /** Detect whether the browser supports default html5 styles */\n      var supportsHtml5Styles;\n\n      /** Name of the expando, to work with multiple documents or to re-shiv one document */\n      var expando = '_html5shiv';\n\n      /** The id for the the documents expando */\n      var expanID = 0;\n\n      /** Cached data for each document */\n      var expandoData = {};\n\n      /** Detect whether the browser supports unknown elements */\n      var supportsUnknownElements;\n\n      (function() {\n        try {\n          var a = document.createElement('a');\n          a.innerHTML = '<xyz></xyz>';\n          //if the hidden property is implemented we can assume, that the browser supports basic HTML5 Styles\n          supportsHtml5Styles = ('hidden' in a);\n\n          supportsUnknownElements = a.childNodes.length == 1 || (function() {\n            // assign a false positive if unable to shiv\n            (document.createElement)('a');\n            var frag = document.createDocumentFragment();\n            return (\n              typeof frag.cloneNode == 'undefined' ||\n                typeof frag.createDocumentFragment == 'undefined' ||\n                typeof frag.createElement == 'undefined'\n            );\n          }());\n        } catch(e) {\n          // assign a false positive if detection fails => unable to shiv\n          supportsHtml5Styles = true;\n          supportsUnknownElements = true;\n        }\n\n      }());\n\n      /*--------------------------------------------------------------------------*/\n\n      /**\n       * Creates a style sheet with the given CSS text and adds it to the document.\n       * @private\n       * @param {Document} ownerDocument The document.\n       * @param {String} cssText The CSS text.\n       * @returns {StyleSheet} The style element.\n       */\n      function addStyleSheet(ownerDocument, cssText) {\n        var p = ownerDocument.createElement('p'),\n          parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement;\n\n        p.innerHTML = 'x<style>' + cssText + '</style>';\n        return parent.insertBefore(p.lastChild, parent.firstChild);\n      }\n\n      /**\n       * Returns the value of `html5.elements` as an array.\n       * @private\n       * @returns {Array} An array of shived element node names.\n       */\n      function getElements() {\n        var elements = html5.elements;\n        return typeof elements == 'string' ? elements.split(' ') : elements;\n      }\n\n      /**\n       * Extends the built-in list of html5 elements\n       * @memberOf html5\n       * @param {String|Array} newElements whitespace separated list or array of new element names to shiv\n       * @param {Document} ownerDocument The context document.\n       */\n      function addElements(newElements, ownerDocument) {\n        var elements = html5.elements;\n        if(typeof elements != 'string'){\n          elements = elements.join(' ');\n        }\n        if(typeof newElements != 'string'){\n          newElements = newElements.join(' ');\n        }\n        html5.elements = elements +' '+ newElements;\n        shivDocument(ownerDocument);\n      }\n\n      /**\n       * Returns the data associated to the given document\n       * @private\n       * @param {Document} ownerDocument The document.\n       * @returns {Object} An object of data.\n       */\n      function getExpandoData(ownerDocument) {\n        var data = expandoData[ownerDocument[expando]];\n        if (!data) {\n          data = {};\n          expanID++;\n          ownerDocument[expando] = expanID;\n          expandoData[expanID] = data;\n        }\n        return data;\n      }\n\n      /**\n       * returns a shived element for the given nodeName and document\n       * @memberOf html5\n       * @param {String} nodeName name of the element\n       * @param {Document} ownerDocument The context document.\n       * @returns {Object} The shived element.\n       */\n      function createElement(nodeName, ownerDocument, data){\n        if (!ownerDocument) {\n          ownerDocument = document;\n        }\n        if(supportsUnknownElements){\n          return ownerDocument.createElement(nodeName);\n        }\n        if (!data) {\n          data = getExpandoData(ownerDocument);\n        }\n        var node;\n\n        if (data.cache[nodeName]) {\n          node = data.cache[nodeName].cloneNode();\n        } else if (saveClones.test(nodeName)) {\n          node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode();\n        } else {\n          node = data.createElem(nodeName);\n        }\n\n        // Avoid adding some elements to fragments in IE < 9 because\n        // * Attributes like `name` or `type` cannot be set/changed once an element\n        //   is inserted into a document/fragment\n        // * Link elements with `src` attributes that are inaccessible, as with\n        //   a 403 response, will cause the tab/window to crash\n        // * Script elements appended to fragments will execute when their `src`\n        //   or `text` property is set\n        return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn ? data.frag.appendChild(node) : node;\n      }\n\n      /**\n       * returns a shived DocumentFragment for the given document\n       * @memberOf html5\n       * @param {Document} ownerDocument The context document.\n       * @returns {Object} The shived DocumentFragment.\n       */\n      function createDocumentFragment(ownerDocument, data){\n        if (!ownerDocument) {\n          ownerDocument = document;\n        }\n        if(supportsUnknownElements){\n          return ownerDocument.createDocumentFragment();\n        }\n        data = data || getExpandoData(ownerDocument);\n        var clone = data.frag.cloneNode(),\n          i = 0,\n          elems = getElements(),\n          l = elems.length;\n        for(;i<l;i++){\n          clone.createElement(elems[i]);\n        }\n        return clone;\n      }\n\n      /**\n       * Shivs the `createElement` and `createDocumentFragment` methods of the document.\n       * @private\n       * @param {Document|DocumentFragment} ownerDocument The document.\n       * @param {Object} data of the document.\n       */\n      function shivMethods(ownerDocument, data) {\n        if (!data.cache) {\n          data.cache = {};\n          data.createElem = ownerDocument.createElement;\n          data.createFrag = ownerDocument.createDocumentFragment;\n          data.frag = data.createFrag();\n        }\n\n\n        ownerDocument.createElement = function(nodeName) {\n          //abort shiv\n          if (!html5.shivMethods) {\n            return data.createElem(nodeName);\n          }\n          return createElement(nodeName, ownerDocument, data);\n        };\n\n        ownerDocument.createDocumentFragment = Function('h,f', 'return function(){' +\n                                                        'var n=f.cloneNode(),c=n.createElement;' +\n                                                        'h.shivMethods&&(' +\n                                                        // unroll the `createElement` calls\n                                                        getElements().join().replace(/[\\w\\-:]+/g, function(nodeName) {\n          data.createElem(nodeName);\n          data.frag.createElement(nodeName);\n          return 'c(\"' + nodeName + '\")';\n        }) +\n          ');return n}'\n                                                       )(html5, data.frag);\n      }\n\n      /*--------------------------------------------------------------------------*/\n\n      /**\n       * Shivs the given document.\n       * @memberOf html5\n       * @param {Document} ownerDocument The document to shiv.\n       * @returns {Document} The shived document.\n       */\n      function shivDocument(ownerDocument) {\n        if (!ownerDocument) {\n          ownerDocument = document;\n        }\n        var data = getExpandoData(ownerDocument);\n\n        if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n          data.hasCSS = !!addStyleSheet(ownerDocument,\n                                        // corrects block display not defined in IE6/7/8/9\n                                        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\n                                        // adds styling not present in IE6/7/8/9\n                                        'mark{background:#FF0;color:#000}' +\n                                        // hides non-rendered elements\n                                        'template{display:none}'\n                                       );\n        }\n        if (!supportsUnknownElements) {\n          shivMethods(ownerDocument, data);\n        }\n        return ownerDocument;\n      }\n\n      /*--------------------------------------------------------------------------*/\n\n      /**\n       * The `html5` object is exposed so that more elements can be shived and\n       * existing shiving can be detected on iframes.\n       * @type Object\n       * @example\n       *\n       * // options can be changed before the script is included\n       * html5 = { 'elements': 'mark section', 'shivCSS': false, 'shivMethods': false };\n       */\n      var html5 = {\n\n        /**\n         * An array or space separated string of node names of the elements to shiv.\n         * @memberOf html5\n         * @type Array|String\n         */\n        'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video',\n\n        /**\n         * current version of html5shiv\n         */\n        'version': version,\n\n        /**\n         * A flag to indicate that the HTML5 style sheet should be inserted.\n         * @memberOf html5\n         * @type Boolean\n         */\n        'shivCSS': (options.shivCSS !== false),\n\n        /**\n         * Is equal to true if a browser supports creating unknown/HTML5 elements\n         * @memberOf html5\n         * @type boolean\n         */\n        'supportsUnknownElements': supportsUnknownElements,\n\n        /**\n         * A flag to indicate that the document's `createElement` and `createDocumentFragment`\n         * methods should be overwritten.\n         * @memberOf html5\n         * @type Boolean\n         */\n        'shivMethods': (options.shivMethods !== false),\n\n        /**\n         * A string to describe the type of `html5` object (\"default\" or \"default print\").\n         * @memberOf html5\n         * @type String\n         */\n        'type': 'default',\n\n        // shivs the document according to the specified `html5` object options\n        'shivDocument': shivDocument,\n\n        //creates a shived element\n        createElement: createElement,\n\n        //creates a shived documentFragment\n        createDocumentFragment: createDocumentFragment,\n\n        //extends list of elements\n        addElements: addElements\n      };\n\n      /*--------------------------------------------------------------------------*/\n\n      // expose html5\n      window.html5 = html5;\n\n      // shiv the document\n      shivDocument(document);\n\n      /*------------------------------- Print Shiv -------------------------------*/\n\n      /** Used to filter media types */\n      var reMedia = /^$|\\b(?:all|print)\\b/;\n\n      /** Used to namespace printable elements */\n      var shivNamespace = 'html5shiv';\n\n      /** Detect whether the browser supports shivable style sheets */\n      var supportsShivableSheets = !supportsUnknownElements && (function() {\n        // assign a false negative if unable to shiv\n        var docEl = document.documentElement;\n        return !(\n          typeof document.namespaces == 'undefined' ||\n            typeof document.parentWindow == 'undefined' ||\n            typeof docEl.applyElement == 'undefined' ||\n            typeof docEl.removeNode == 'undefined' ||\n            typeof window.attachEvent == 'undefined'\n        );\n      }());\n\n      /*--------------------------------------------------------------------------*/\n\n      /**\n       * Wraps all HTML5 elements in the given document with printable elements.\n       * (eg. the \"header\" element is wrapped with the \"html5shiv:header\" element)\n       * @private\n       * @param {Document} ownerDocument The document.\n       * @returns {Array} An array wrappers added.\n       */\n      function addWrappers(ownerDocument) {\n        var node,\n        nodes = ownerDocument.getElementsByTagName('*'),\n          index = nodes.length,\n          reElements = RegExp('^(?:' + getElements().join('|') + ')$', 'i'),\n          result = [];\n\n        while (index--) {\n          node = nodes[index];\n          if (reElements.test(node.nodeName)) {\n            result.push(node.applyElement(createWrapper(node)));\n          }\n        }\n        return result;\n      }\n\n      /**\n       * Creates a printable wrapper for the given element.\n       * @private\n       * @param {Element} element The element.\n       * @returns {Element} The wrapper.\n       */\n      function createWrapper(element) {\n        var node,\n        nodes = element.attributes,\n          index = nodes.length,\n          wrapper = element.ownerDocument.createElement(shivNamespace + ':' + element.nodeName);\n\n        // copy element attributes to the wrapper\n        while (index--) {\n          node = nodes[index];\n          node.specified && wrapper.setAttribute(node.nodeName, node.nodeValue);\n        }\n        // copy element styles to the wrapper\n        wrapper.style.cssText = element.style.cssText;\n        return wrapper;\n      }\n\n      /**\n       * Shivs the given CSS text.\n       * (eg. header{} becomes html5shiv\\:header{})\n       * @private\n       * @param {String} cssText The CSS text to shiv.\n       * @returns {String} The shived CSS text.\n       */\n      function shivCssText(cssText) {\n        var pair,\n        parts = cssText.split('{'),\n          index = parts.length,\n          reElements = RegExp('(^|[\\\\s,>+~])(' + getElements().join('|') + ')(?=[[\\\\s,>+~#.:]|$)', 'gi'),\n          replacement = '$1' + shivNamespace + '\\\\:$2';\n\n        while (index--) {\n          pair = parts[index] = parts[index].split('}');\n          pair[pair.length - 1] = pair[pair.length - 1].replace(reElements, replacement);\n          parts[index] = pair.join('}');\n        }\n        return parts.join('{');\n      }\n\n      /**\n       * Removes the given wrappers, leaving the original elements.\n       * @private\n       * @params {Array} wrappers An array of printable wrappers.\n       */\n      function removeWrappers(wrappers) {\n        var index = wrappers.length;\n        while (index--) {\n          wrappers[index].removeNode();\n        }\n      }\n\n      /*--------------------------------------------------------------------------*/\n\n      /**\n       * Shivs the given document for print.\n       * @memberOf html5\n       * @param {Document} ownerDocument The document to shiv.\n       * @returns {Document} The shived document.\n       */\n      function shivPrint(ownerDocument) {\n        var shivedSheet,\n        wrappers,\n        data = getExpandoData(ownerDocument),\n          namespaces = ownerDocument.namespaces,\n          ownerWindow = ownerDocument.parentWindow;\n\n        if (!supportsShivableSheets || ownerDocument.printShived) {\n          return ownerDocument;\n        }\n        if (typeof namespaces[shivNamespace] == 'undefined') {\n          namespaces.add(shivNamespace);\n        }\n\n        function removeSheet() {\n          clearTimeout(data._removeSheetTimer);\n          if (shivedSheet) {\n            shivedSheet.removeNode(true);\n          }\n          shivedSheet= null;\n        }\n\n        ownerWindow.attachEvent('onbeforeprint', function() {\n\n          removeSheet();\n\n          var imports,\n          length,\n          sheet,\n          collection = ownerDocument.styleSheets,\n            cssText = [],\n            index = collection.length,\n            sheets = Array(index);\n\n          // convert styleSheets collection to an array\n          while (index--) {\n            sheets[index] = collection[index];\n          }\n          // concat all style sheet CSS text\n          while ((sheet = sheets.pop())) {\n            // IE does not enforce a same origin policy for external style sheets...\n            // but has trouble with some dynamically created stylesheets\n            if (!sheet.disabled && reMedia.test(sheet.media)) {\n\n              try {\n                imports = sheet.imports;\n                length = imports.length;\n              } catch(er){\n                length = 0;\n              }\n\n              for (index = 0; index < length; index++) {\n                sheets.push(imports[index]);\n              }\n\n              try {\n                cssText.push(sheet.cssText);\n              } catch(er){}\n            }\n          }\n\n          // wrap all HTML5 elements with printable elements and add the shived style sheet\n          cssText = shivCssText(cssText.reverse().join(''));\n          wrappers = addWrappers(ownerDocument);\n          shivedSheet = addStyleSheet(ownerDocument, cssText);\n\n        });\n\n        ownerWindow.attachEvent('onafterprint', function() {\n          // remove wrappers, leaving the original elements, and remove the shived style sheet\n          removeWrappers(wrappers);\n          clearTimeout(data._removeSheetTimer);\n          data._removeSheetTimer = setTimeout(removeSheet, 500);\n        });\n\n        ownerDocument.printShived = true;\n        return ownerDocument;\n      }\n\n      /*--------------------------------------------------------------------------*/\n\n      // expose API\n      html5.type += ' print';\n      html5.shivPrint = shivPrint;\n\n      // shiv for print\n      shivPrint(document);\n\n      if(typeof module == 'object' && module.exports){\n        module.exports = html5;\n      }\n\n    }(typeof window !== \"undefined\" ? window : this, document));\n  }\n\n  ;\n\n\n  /**\n   * contains checks to see if a string contains another string\n   *\n   * @access private\n   * @function contains\n   * @param {string} str - The string we want to check for substrings\n   * @param {string} substr - The substring we want to search the first string for\n   * @returns {boolean}\n   */\n\n  function contains(str, substr) {\n    return !!~('' + str).indexOf(substr);\n  }\n\n  ;\n\n  /**\n   * createElement is a convenience wrapper around document.createElement. Since we\n   * use createElement all over the place, this allows for (slightly) smaller code\n   * as well as abstracting away issues with creating elements in contexts other than\n   * HTML documents (e.g. SVG documents).\n   *\n   * @access private\n   * @function createElement\n   * @returns {HTMLElement|SVGElement} An HTML or SVG element\n   */\n\n  function createElement() {\n    if (typeof document.createElement !== 'function') {\n      // This is the case in IE7, where the type of createElement is \"object\".\n      // For this reason, we cannot call apply() as Object is not a Function.\n      return document.createElement(arguments[0]);\n    } else if (isSVG) {\n      return document.createElementNS.call(document, 'http://www.w3.org/2000/svg', arguments[0]);\n    } else {\n      return document.createElement.apply(document, arguments);\n    }\n  }\n\n  ;\n\n  /**\n   * Create our \"modernizr\" element that we do most feature tests on.\n   *\n   * @access private\n   */\n\n  var modElem = {\n    elem: createElement('modernizr')\n  };\n\n  // Clean up this element\n  Modernizr._q.push(function() {\n    delete modElem.elem;\n  });\n\n  \n\n  var mStyle = {\n    style: modElem.elem.style\n  };\n\n  // kill ref for gc, must happen before mod.elem is removed, so we unshift on to\n  // the front of the queue.\n  Modernizr._q.unshift(function() {\n    delete mStyle.style;\n  });\n\n  \n\n  /**\n   * getBody returns the body of a document, or an element that can stand in for\n   * the body if a real body does not exist\n   *\n   * @access private\n   * @function getBody\n   * @returns {HTMLElement|SVGElement} Returns the real body of a document, or an\n   * artificially created element that stands in for the body\n   */\n\n  function getBody() {\n    // After page load injecting a fake body doesn't work so check if body exists\n    var body = document.body;\n\n    if (!body) {\n      // Can't use the real body create a fake one.\n      body = createElement(isSVG ? 'svg' : 'body');\n      body.fake = true;\n    }\n\n    return body;\n  }\n\n  ;\n\n  /**\n   * injectElementWithStyles injects an element with style element and some CSS rules\n   *\n   * @access private\n   * @function injectElementWithStyles\n   * @param {string} rule - String representing a css rule\n   * @param {function} callback - A function that is used to test the injected element\n   * @param {number} [nodes] - An integer representing the number of additional nodes you want injected\n   * @param {string[]} [testnames] - An array of strings that are used as ids for the additional nodes\n   * @returns {boolean}\n   */\n\n  function injectElementWithStyles(rule, callback, nodes, testnames) {\n    var mod = 'modernizr';\n    var style;\n    var ret;\n    var node;\n    var docOverflow;\n    var div = createElement('div');\n    var body = getBody();\n\n    if (parseInt(nodes, 10)) {\n      // In order not to give false positives we create a node for each test\n      // This also allows the method to scale for unspecified uses\n      while (nodes--) {\n        node = createElement('div');\n        node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\n        div.appendChild(node);\n      }\n    }\n\n    style = createElement('style');\n    style.type = 'text/css';\n    style.id = 's' + mod;\n\n    // IE6 will false positive on some tests due to the style element inside the test div somehow interfering offsetHeight, so insert it into body or fakebody.\n    // Opera will act all quirky when injecting elements in documentElement when page is served as xml, needs fakebody too. #270\n    (!body.fake ? div : body).appendChild(style);\n    body.appendChild(div);\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = rule;\n    } else {\n      style.appendChild(document.createTextNode(rule));\n    }\n    div.id = mod;\n\n    if (body.fake) {\n      //avoid crashing IE8, if background image is used\n      body.style.background = '';\n      //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n      body.style.overflow = 'hidden';\n      docOverflow = docElement.style.overflow;\n      docElement.style.overflow = 'hidden';\n      docElement.appendChild(body);\n    }\n\n    ret = callback(div, rule);\n    // If this is done after page load we don't want to remove the body so check if body exists\n    if (body.fake) {\n      body.parentNode.removeChild(body);\n      docElement.style.overflow = docOverflow;\n      // Trigger layout so kinetic scrolling isn't disabled in iOS6+\n      docElement.offsetHeight;\n    } else {\n      div.parentNode.removeChild(div);\n    }\n\n    return !!ret;\n\n  }\n\n  ;\n\n  /**\n   * domToCSS takes a camelCase string and converts it to kebab-case\n   * e.g. boxSizing -> box-sizing\n   *\n   * @access private\n   * @function domToCSS\n   * @param {string} name - String name of camelCase prop we want to convert\n   * @returns {string} The kebab-case version of the supplied name\n   */\n\n  function domToCSS(name) {\n    return name.replace(/([A-Z])/g, function(str, m1) {\n      return '-' + m1.toLowerCase();\n    }).replace(/^ms-/, '-ms-');\n  }\n  ;\n\n  /**\n   * nativeTestProps allows for us to use native feature detection functionality if available.\n   * some prefixed form, or false, in the case of an unsupported rule\n   *\n   * @access private\n   * @function nativeTestProps\n   * @param {array} props - An array of property names\n   * @param {string} value - A string representing the value we want to check via @supports\n   * @returns {boolean|undefined} A boolean when @supports exists, undefined otherwise\n   */\n\n  // Accepts a list of property names and a single value\n  // Returns `undefined` if native detection not available\n  function nativeTestProps(props, value) {\n    var i = props.length;\n    // Start with the JS API: http://www.w3.org/TR/css3-conditional/#the-css-interface\n    if ('CSS' in window && 'supports' in window.CSS) {\n      // Try every prefixed variant of the property\n      while (i--) {\n        if (window.CSS.supports(domToCSS(props[i]), value)) {\n          return true;\n        }\n      }\n      return false;\n    }\n    // Otherwise fall back to at-rule (for Opera 12.x)\n    else if ('CSSSupportsRule' in window) {\n      // Build a condition string for every prefixed variant\n      var conditionText = [];\n      while (i--) {\n        conditionText.push('(' + domToCSS(props[i]) + ':' + value + ')');\n      }\n      conditionText = conditionText.join(' or ');\n      return injectElementWithStyles('@supports (' + conditionText + ') { #modernizr { position: absolute; } }', function(node) {\n        return getComputedStyle(node, null).position == 'absolute';\n      });\n    }\n    return undefined;\n  }\n  ;\n\n  /**\n   * cssToDOM takes a kebab-case string and converts it to camelCase\n   * e.g. box-sizing -> boxSizing\n   *\n   * @access private\n   * @function cssToDOM\n   * @param {string} name - String name of kebab-case prop we want to convert\n   * @returns {string} The camelCase version of the supplied name\n   */\n\n  function cssToDOM(name) {\n    return name.replace(/([a-z])-([a-z])/g, function(str, m1, m2) {\n      return m1 + m2.toUpperCase();\n    }).replace(/^-/, '');\n  }\n  ;\n\n  // testProps is a generic CSS / DOM property test.\n\n  // In testing support for a given CSS property, it's legit to test:\n  //    `elem.style[styleName] !== undefined`\n  // If the property is supported it will return an empty string,\n  // if unsupported it will return undefined.\n\n  // We'll take advantage of this quick test and skip setting a style\n  // on our modernizr element, but instead just testing undefined vs\n  // empty string.\n\n  // Property names can be provided in either camelCase or kebab-case.\n\n  function testProps(props, prefixed, value, skipValueTest) {\n    skipValueTest = is(skipValueTest, 'undefined') ? false : skipValueTest;\n\n    // Try native detect first\n    if (!is(value, 'undefined')) {\n      var result = nativeTestProps(props, value);\n      if (!is(result, 'undefined')) {\n        return result;\n      }\n    }\n\n    // Otherwise do it properly\n    var afterInit, i, propsLength, prop, before;\n\n    // If we don't have a style element, that means we're running async or after\n    // the core tests, so we'll need to create our own elements to use\n\n    // inside of an SVG element, in certain browsers, the `style` element is only\n    // defined for valid tags. Therefore, if `modernizr` does not have one, we\n    // fall back to a less used element and hope for the best.\n    var elems = ['modernizr', 'tspan'];\n    while (!mStyle.style) {\n      afterInit = true;\n      mStyle.modElem = createElement(elems.shift());\n      mStyle.style = mStyle.modElem.style;\n    }\n\n    // Delete the objects if we created them.\n    function cleanElems() {\n      if (afterInit) {\n        delete mStyle.style;\n        delete mStyle.modElem;\n      }\n    }\n\n    propsLength = props.length;\n    for (i = 0; i < propsLength; i++) {\n      prop = props[i];\n      before = mStyle.style[prop];\n\n      if (contains(prop, '-')) {\n        prop = cssToDOM(prop);\n      }\n\n      if (mStyle.style[prop] !== undefined) {\n\n        // If value to test has been passed in, do a set-and-check test.\n        // 0 (integer) is a valid property value, so check that `value` isn't\n        // undefined, rather than just checking it's truthy.\n        if (!skipValueTest && !is(value, 'undefined')) {\n\n          // Needs a try catch block because of old IE. This is slow, but will\n          // be avoided in most cases because `skipValueTest` will be used.\n          try {\n            mStyle.style[prop] = value;\n          } catch (e) {}\n\n          // If the property value has changed, we assume the value used is\n          // supported. If `value` is empty string, it'll fail here (because\n          // it hasn't changed), which matches how browsers have implemented\n          // CSS.supports()\n          if (mStyle.style[prop] != before) {\n            cleanElems();\n            return prefixed == 'pfx' ? prop : true;\n          }\n        }\n        // Otherwise just return true, or the property name if this is a\n        // `prefixed()` call\n        else {\n          cleanElems();\n          return prefixed == 'pfx' ? prop : true;\n        }\n      }\n    }\n    cleanElems();\n    return false;\n  }\n\n  ;\n\n  /**\n   * testProp() investigates whether a given style property is recognized\n   * Property names can be provided in either camelCase or kebab-case.\n   *\n   * @memberof Modernizr\n   * @name Modernizr.testProp\n   * @access public\n   * @optionName Modernizr.testProp()\n   * @optionProp testProp\n   * @function testProp\n   * @param {string} prop - Name of the CSS property to check\n   * @param {string} [value] - Name of the CSS value to check\n   * @param {boolean} [useValue] - Whether or not to check the value if @supports isn't supported\n   * @returns {boolean}\n   * @example\n   *\n   * Just like [testAllProps](#modernizr-testallprops), only it does not check any vendor prefixed\n   * version of the string.\n   *\n   * Note that the property name must be provided in camelCase (e.g. boxSizing not box-sizing)\n   *\n   * ```js\n   * Modernizr.testProp('pointerEvents')  // true\n   * ```\n   *\n   * You can also provide a value as an optional second argument to check if a\n   * specific value is supported\n   *\n   * ```js\n   * Modernizr.testProp('pointerEvents', 'none') // true\n   * Modernizr.testProp('pointerEvents', 'penguin') // false\n   * ```\n   */\n\n  var testProp = ModernizrProto.testProp = function(prop, value, useValue) {\n    return testProps([prop], undefined, value, useValue);\n  };\n  \n\n  /**\n   * fnBind is a super small [bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind) polyfill.\n   *\n   * @access private\n   * @function fnBind\n   * @param {function} fn - a function you want to change `this` reference to\n   * @param {object} that - the `this` you want to call the function with\n   * @returns {function} The wrapped version of the supplied function\n   */\n\n  function fnBind(fn, that) {\n    return function() {\n      return fn.apply(that, arguments);\n    };\n  }\n\n  ;\n\n  /**\n   * List of property values to set for css tests. See ticket #21\n   * http://git.io/vUGl4\n   *\n   * @memberof Modernizr\n   * @name Modernizr._prefixes\n   * @optionName Modernizr._prefixes\n   * @optionProp prefixes\n   * @access public\n   * @example\n   *\n   * Modernizr._prefixes is the internal list of prefixes that we test against\n   * inside of things like [prefixed](#modernizr-prefixed) and [prefixedCSS](#-code-modernizr-prefixedcss). It is simply\n   * an array of kebab-case vendor prefixes you can use within your code.\n   *\n   * Some common use cases include\n   *\n   * Generating all possible prefixed version of a CSS property\n   * ```js\n   * var rule = Modernizr._prefixes.join('transform: rotate(20deg); ');\n   *\n   * rule === 'transform: rotate(20deg); webkit-transform: rotate(20deg); moz-transform: rotate(20deg); o-transform: rotate(20deg); ms-transform: rotate(20deg);'\n   * ```\n   *\n   * Generating all possible prefixed version of a CSS value\n   * ```js\n   * rule = 'display:' +  Modernizr._prefixes.join('flex; display:') + 'flex';\n   *\n   * rule === 'display:flex; display:-webkit-flex; display:-moz-flex; display:-o-flex; display:-ms-flex; display:flex'\n   * ```\n   */\n\n  var prefixes = (ModernizrProto._config.usePrefixes ? ' -webkit- -moz- -o- -ms- '.split(' ') : []);\n\n  // expose these for the plugin API. Look in the source for how to join() them against your input\n  ModernizrProto._prefixes = prefixes;\n\n  \n\n  /**\n   * testStyles injects an element with style element and some CSS rules\n   *\n   * @memberof Modernizr\n   * @name Modernizr.testStyles\n   * @optionName Modernizr.testStyles()\n   * @optionProp testStyles\n   * @access public\n   * @function testStyles\n   * @param {string} rule - String representing a css rule\n   * @param {function} callback - A function that is used to test the injected element\n   * @param {number} [nodes] - An integer representing the number of additional nodes you want injected\n   * @param {string[]} [testnames] - An array of strings that are used as ids for the additional nodes\n   * @returns {boolean}\n   * @example\n   *\n   * `Modernizr.testStyles` takes a CSS rule and injects it onto the current page\n   * along with (possibly multiple) DOM elements. This lets you check for features\n   * that can not be detected by simply checking the [IDL](https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Interface_development_guide/IDL_interface_rules).\n   *\n   * ```js\n   * Modernizr.testStyles('#modernizr { width: 9px; color: papayawhip; }', function(elem, rule) {\n   *   // elem is the first DOM node in the page (by default #modernizr)\n   *   // rule is the first argument you supplied - the CSS rule in string form\n   *\n   *   addTest('widthworks', elem.style.width === '9px')\n   * });\n   * ```\n   *\n   * If your test requires multiple nodes, you can include a third argument\n   * indicating how many additional div elements to include on the page. The\n   * additional nodes are injected as children of the `elem` that is returned as\n   * the first argument to the callback.\n   *\n   * ```js\n   * Modernizr.testStyles('#modernizr {width: 1px}; #modernizr2 {width: 2px}', function(elem) {\n   *   document.getElementById('modernizr').style.width === '1px'; // true\n   *   document.getElementById('modernizr2').style.width === '2px'; // true\n   *   elem.firstChild === document.getElementById('modernizr2'); // true\n   * }, 1);\n   * ```\n   *\n   * By default, all of the additional elements have an ID of `modernizr[n]`, where\n   * `n` is its index (e.g. the first additional, second overall is `#modernizr2`,\n   * the second additional is `#modernizr3`, etc.).\n   * If you want to have more meaningful IDs for your function, you can provide\n   * them as the fourth argument, as an array of strings\n   *\n   * ```js\n   * Modernizr.testStyles('#foo {width: 10px}; #bar {height: 20px}', function(elem) {\n   *   elem.firstChild === document.getElementById('foo'); // true\n   *   elem.lastChild === document.getElementById('bar'); // true\n   * }, 2, ['foo', 'bar']);\n   * ```\n   *\n   */\n\n  var testStyles = ModernizrProto.testStyles = injectElementWithStyles;\n  \n/*!\n{\n  \"name\": \"Touch Events\",\n  \"property\": \"touchevents\",\n  \"caniuse\" : \"touch\",\n  \"tags\": [\"media\", \"attribute\"],\n  \"notes\": [{\n    \"name\": \"Touch Events spec\",\n    \"href\": \"https://www.w3.org/TR/2013/WD-touch-events-20130124/\"\n  }],\n  \"warnings\": [\n    \"Indicates if the browser supports the Touch Events spec, and does not necessarily reflect a touchscreen device\"\n  ],\n  \"knownBugs\": [\n    \"False-positive on some configurations of Nokia N900\",\n    \"False-positive on some BlackBerry 6.0 builds  https://github.com/Modernizr/Modernizr/issues/372#issuecomment-3112695\"\n  ]\n}\n!*/\n/* DOC\nIndicates if the browser supports the W3C Touch Events API.\n\nThis *does not* necessarily reflect a touchscreen device:\n\n* Older touchscreen devices only emulate mouse events\n* Modern IE touch devices implement the Pointer Events API instead: use `Modernizr.pointerevents` to detect support for that\n* Some browsers & OS setups may enable touch APIs when no touchscreen is connected\n* Future browsers may implement other event models for touch interactions\n\nSee this article: [You Can't Detect A Touchscreen](http://www.stucox.com/blog/you-cant-detect-a-touchscreen/).\n\nIt's recommended to bind both mouse and touch/pointer events simultaneously  see [this HTML5 Rocks tutorial](http://www.html5rocks.com/en/mobile/touchandmouse/).\n\nThis test will also return `true` for Firefox 4 Multitouch support.\n*/\n\n  // Chrome (desktop) used to lie about its support on this, but that has since been rectified: http://crbug.com/36415\n  Modernizr.addTest('touchevents', function() {\n    var bool;\n    if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n      bool = true;\n    } else {\n      // include the 'heartz' as a way to have a non matching MQ to help terminate the join\n      // https://git.io/vznFH\n      var query = ['@media (', prefixes.join('touch-enabled),('), 'heartz', ')', '{#modernizr{top:9px;position:absolute}}'].join('');\n      testStyles(query, function(node) {\n        bool = node.offsetTop === 9;\n      });\n    }\n    return bool;\n  });\n\n\n  // Run each test\n  testRunner();\n\n  delete ModernizrProto.addTest;\n  delete ModernizrProto.addAsyncTest;\n\n  // Run the things that are supposed to run after the tests\n  for (var i = 0; i < Modernizr._q.length; i++) {\n    Modernizr._q[i]();\n  }\n\n  // Leak Modernizr namespace\n  window.Modernizr = Modernizr;\n\n\n;\n\n})(window, document);","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\nvar Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], concat = emptyArray.concat, filter = emptyArray.filter, slice = emptyArray.slice,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.matches || element.webkitMatchesSelector ||\n                          element.mozMatchesSelector || element.oMatchesSelector ||\n                          element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n\n  function likeArray(obj) {\n    var length = !!obj && 'length' in obj && obj.length,\n      type = $.type(obj)\n\n    return 'function' != type && !isWindow(obj) && (\n      'array' == type || length === 0 ||\n        (typeof length == 'number' && length > 0 && (length - 1) in obj)\n    )\n  }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  function Z(dom, selector) {\n    var i, len = dom ? dom.length : 0\n    for (i = 0; i < len; i++) this[i] = dom[i]\n    this.length = len\n    this.selector = selector || ''\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overridden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overridden in plugins.\n  zepto.Z = function(dom, selector) {\n    return new Z(dom, selector)\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overridden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overridden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overridden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (element.getElementById && isSimple && maybeID) ? // Safari DocumentFragment doesn't have getElementById\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11) ? [] :\n      slice.call(\n        isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className || '',\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.isNumeric = function(val) {\n    var num = Number(val), type = typeof val\n    return val != null && type != 'boolean' &&\n      (type != 'string' || val.length) &&\n      !isNaN(num) && isFinite(num) || false\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n  $.noop = function() {}\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function(){\n      var i, value, args = []\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i]\n        args[i] = zepto.isZ(value) ? value.toArray() : value\n      }\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args)\n    },\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var nodes = [], collection = typeof selector == 'object' && $(selector)\n      this.each(function(_, node){\n        while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n          node = node !== context && !isDocument(node) && node.parentNode\n        if (node && nodes.indexOf(node) < 0) nodes.push(node)\n      })\n      return $(nodes)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return this.contentDocument || slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : ''+newText\n        }) :\n        (0 in this ? this.pluck('textContent').join(\"\") : null)\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\n        setAttribute(this, attribute)\n      }, this)})\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (1 in arguments) ?\n        this.each(function(idx){\n          this[name] = funcArg(this, value, idx, this[name])\n        }) :\n        (this[0] && this[0][name])\n    },\n    removeProp: function(name){\n      name = propMap[name] || name\n      return this.each(function(){ delete this[name] })\n    },\n    data: function(name, value){\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      if (0 in arguments) {\n        if (value == null) value = \"\"\n        return this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        })\n      } else {\n        return this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n      }\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0]))\n        return {top: 0, left: 0}\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var element = this[0]\n        if (typeof property == 'string') {\n          if (!element) return\n          return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property)\n        } else if (isArray(property)) {\n          if (!element) return\n          var props = {}\n          var computedStyle = getComputedStyle(element, '')\n          $.each(property, function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            var arr = []\n            argType = type(arg)\n            if (argType == \"array\") {\n              arg.forEach(function(el) {\n                if (el.nodeType !== undefined) return arr.push(el)\n                else if ($.zepto.isZ(el)) return arr = arr.concat(el.get())\n                arr = arr.concat(zepto.fragment(el))\n              })\n              return arr\n            }\n            return argType == \"object\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src){\n              var target = el.ownerDocument ? el.ownerDocument.defaultView : window\n              target['eval'].call(target, el.innerHTML)\n            }\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\n// If `$` is not yet defined, point it to `Zepto`\nwindow.Zepto = Zepto\nwindow.$ === undefined && (window.$ = Zepto)\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n;(function($){\n  function detect(ua, platform){\n    var os = this.os = {}, browser = this.browser = {},\n      webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/),\n      android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/),\n      osx = !!ua.match(/\\(Macintosh\\; Intel /),\n      ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/),\n      ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/),\n      iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/),\n      webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/),\n      win = /Win\\d{2}|Windows/.test(platform),\n      wp = ua.match(/Windows Phone ([\\d.]+)/),\n      touchpad = webos && ua.match(/TouchPad/),\n      kindle = ua.match(/Kindle\\/([\\d.]+)/),\n      silk = ua.match(/Silk\\/([\\d._]+)/),\n      blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/),\n      bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/),\n      rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/),\n      playbook = ua.match(/PlayBook/),\n      chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/),\n      firefox = ua.match(/Firefox\\/([\\d.]+)/),\n      firefoxos = ua.match(/\\((?:Mobile|Tablet); rv:([\\d.]+)\\).*Firefox\\/[\\d.]+/),\n      ie = ua.match(/MSIE\\s([\\d.]+)/) || ua.match(/Trident\\/[\\d](?=[^\\?]+).*rv:([0-9.].)/),\n      webview = !chrome && ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),\n      safari = webview || ua.match(/Version\\/([\\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/)\n\n    // Todo: clean this up with a better OS/browser seperation:\n    // - discern (more) between multiple browsers on android\n    // - decide if kindle fire in silk mode is android or not\n    // - Firefox on Android doesn't specify the Android version\n    // - possibly devide in os, device and browser hashes\n\n    if (browser.webkit = !!webkit) browser.version = webkit[1]\n\n    if (android) os.android = true, os.version = android[2]\n    if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.')\n    if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.')\n    if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null\n    if (wp) os.wp = true, os.version = wp[1]\n    if (webos) os.webos = true, os.version = webos[2]\n    if (touchpad) os.touchpad = true\n    if (blackberry) os.blackberry = true, os.version = blackberry[2]\n    if (bb10) os.bb10 = true, os.version = bb10[2]\n    if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2]\n    if (playbook) browser.playbook = true\n    if (kindle) os.kindle = true, os.version = kindle[1]\n    if (silk) browser.silk = true, browser.version = silk[1]\n    if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true\n    if (chrome) browser.chrome = true, browser.version = chrome[1]\n    if (firefox) browser.firefox = true, browser.version = firefox[1]\n    if (firefoxos) os.firefoxos = true, os.version = firefoxos[1]\n    if (ie) browser.ie = true, browser.version = ie[1]\n    if (safari && (osx || os.ios || win)) {\n      browser.safari = true\n      if (!os.ios) browser.version = safari[1]\n    }\n    if (webview) browser.webview = true\n\n    os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n      (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)))\n    os.phone  = !!(!os.tablet && !os.ipod && (android || iphone || webos || blackberry || bb10 ||\n      (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n      (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))))\n  }\n\n  detect.call($, navigator.userAgent, navigator.platform)\n  // make available to unit tests\n  $.__detect = detect\n\n})(Zepto)\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      event.timeStamp || (event.timeStamp = Date.now())\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (callback === undefined || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n      // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout focus blur load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n;(function($){\n  if ($.os.ios) {\n    var gesture = {}, gestureTimeout\n\n    function parentIfText(node){\n      return 'tagName' in node ? node : node.parentNode\n    }\n\n    $(document).bind('gesturestart', function(e){\n      var now = Date.now(), delta = now - (gesture.last || now)\n      gesture.target = parentIfText(e.target)\n      gestureTimeout && clearTimeout(gestureTimeout)\n      gesture.e1 = e.scale\n      gesture.last = now\n    }).bind('gesturechange', function(e){\n      gesture.e2 = e.scale\n    }).bind('gestureend', function(e){\n      if (gesture.e2 > 0) {\n        Math.abs(gesture.e1 - gesture.e2) != 0 && $(gesture.target).trigger('pinch') &&\n          $(gesture.target).trigger('pinch' + (gesture.e1 - gesture.e2 > 0 ? 'In' : 'Out'))\n        gesture.e1 = gesture.e2 = gesture.last = 0\n      } else if ('last' in gesture) {\n        gesture = {}\n      }\n    })\n\n    ;['pinch', 'pinchIn', 'pinchOut'].forEach(function(m){\n      $.fn[m] = function(callback){ return this.bind(m, callback) }\n    })\n  }\n})(Zepto)\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n;(function(){\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch(e) {\n    var nativeGetComputedStyle = getComputedStyle\n    window.getComputedStyle = function(element, pseudoElement){\n      try {\n        return nativeGetComputedStyle(element, pseudoElement)\n      } catch(e) {\n        return null\n      }\n    }\n  }\n})()\n","//     Zepto.js\n//     (c) 2010-2016 Thomas Fuchs\n//     Zepto.js may be freely distributed under the MIT license.\n\n;(function($){\n  var touch = {},\n    touchTimeout, tapTimeout, swipeTimeout, longTapTimeout,\n    longTapDelay = 750,\n    gesture\n\n  function swipeDirection(x1, x2, y1, y2) {\n    return Math.abs(x1 - x2) >=\n      Math.abs(y1 - y2) ? (x1 - x2 > 0 ? 'Left' : 'Right') : (y1 - y2 > 0 ? 'Up' : 'Down')\n  }\n\n  function longTap() {\n    longTapTimeout = null\n    if (touch.last) {\n      touch.el.trigger('longTap')\n      touch = {}\n    }\n  }\n\n  function cancelLongTap() {\n    if (longTapTimeout) clearTimeout(longTapTimeout)\n    longTapTimeout = null\n  }\n\n  function cancelAll() {\n    if (touchTimeout) clearTimeout(touchTimeout)\n    if (tapTimeout) clearTimeout(tapTimeout)\n    if (swipeTimeout) clearTimeout(swipeTimeout)\n    if (longTapTimeout) clearTimeout(longTapTimeout)\n    touchTimeout = tapTimeout = swipeTimeout = longTapTimeout = null\n    touch = {}\n  }\n\n  function isPrimaryTouch(event){\n    return (event.pointerType == 'touch' ||\n      event.pointerType == event.MSPOINTER_TYPE_TOUCH)\n      && event.isPrimary\n  }\n\n  function isPointerEventType(e, type){\n    return (e.type == 'pointer'+type ||\n      e.type.toLowerCase() == 'mspointer'+type)\n  }\n\n  $(document).ready(function(){\n    var now, delta, deltaX = 0, deltaY = 0, firstTouch, _isPointerType\n\n    if ('MSGesture' in window) {\n      gesture = new MSGesture()\n      gesture.target = document.body\n    }\n\n    $(document)\n      .bind('MSGestureEnd', function(e){\n        var swipeDirectionFromVelocity =\n          e.velocityX > 1 ? 'Right' : e.velocityX < -1 ? 'Left' : e.velocityY > 1 ? 'Down' : e.velocityY < -1 ? 'Up' : null\n        if (swipeDirectionFromVelocity) {\n          touch.el.trigger('swipe')\n          touch.el.trigger('swipe'+ swipeDirectionFromVelocity)\n        }\n      })\n      .on('touchstart MSPointerDown pointerdown', function(e){\n        if((_isPointerType = isPointerEventType(e, 'down')) &&\n          !isPrimaryTouch(e)) return\n        firstTouch = _isPointerType ? e : e.touches[0]\n        if (e.touches && e.touches.length === 1 && touch.x2) {\n          // Clear out touch movement data if we have it sticking around\n          // This can occur if touchcancel doesn't fire due to preventDefault, etc.\n          touch.x2 = undefined\n          touch.y2 = undefined\n        }\n        now = Date.now()\n        delta = now - (touch.last || now)\n        touch.el = $('tagName' in firstTouch.target ?\n          firstTouch.target : firstTouch.target.parentNode)\n        touchTimeout && clearTimeout(touchTimeout)\n        touch.x1 = firstTouch.pageX\n        touch.y1 = firstTouch.pageY\n        if (delta > 0 && delta <= 250) touch.isDoubleTap = true\n        touch.last = now\n        longTapTimeout = setTimeout(longTap, longTapDelay)\n        // adds the current touch contact for IE gesture recognition\n        if (gesture && _isPointerType) gesture.addPointer(e.pointerId)\n      })\n      .on('touchmove MSPointerMove pointermove', function(e){\n        if((_isPointerType = isPointerEventType(e, 'move')) &&\n          !isPrimaryTouch(e)) return\n        firstTouch = _isPointerType ? e : e.touches[0]\n        cancelLongTap()\n        touch.x2 = firstTouch.pageX\n        touch.y2 = firstTouch.pageY\n\n        deltaX += Math.abs(touch.x1 - touch.x2)\n        deltaY += Math.abs(touch.y1 - touch.y2)\n      })\n      .on('touchend MSPointerUp pointerup', function(e){\n        if((_isPointerType = isPointerEventType(e, 'up')) &&\n          !isPrimaryTouch(e)) return\n        cancelLongTap()\n\n        // swipe\n        if ((touch.x2 && Math.abs(touch.x1 - touch.x2) > 30) ||\n            (touch.y2 && Math.abs(touch.y1 - touch.y2) > 30))\n\n          swipeTimeout = setTimeout(function() {\n            if (touch.el){\n              touch.el.trigger('swipe')\n              touch.el.trigger('swipe' + (swipeDirection(touch.x1, touch.x2, touch.y1, touch.y2)))\n            }\n            touch = {}\n          }, 0)\n\n        // normal tap\n        else if ('last' in touch)\n          // don't fire tap when delta position changed by more than 30 pixels,\n          // for instance when moving to a point and back to origin\n          if (deltaX < 30 && deltaY < 30) {\n            // delay by one tick so we can cancel the 'tap' event if 'scroll' fires\n            // ('tap' fires before 'scroll')\n            tapTimeout = setTimeout(function() {\n\n              // trigger universal 'tap' with the option to cancelTouch()\n              // (cancelTouch cancels processing of single vs double taps for faster 'tap' response)\n              var event = $.Event('tap')\n              event.cancelTouch = cancelAll\n              // [by paper] fix -> \"TypeError: 'undefined' is not an object (evaluating 'touch.el.trigger'), when double tap\n              if (touch.el) touch.el.trigger(event)\n\n              // trigger double tap immediately\n              if (touch.isDoubleTap) {\n                if (touch.el) touch.el.trigger('doubleTap')\n                touch = {}\n              }\n\n              // trigger single tap after 250ms of inactivity\n              else {\n                touchTimeout = setTimeout(function(){\n                  touchTimeout = null\n                  if (touch.el) touch.el.trigger('singleTap')\n                  touch = {}\n                }, 250)\n              }\n            }, 0)\n          } else {\n            touch = {}\n          }\n          deltaX = deltaY = 0\n\n      })\n      // when the browser window loses focus,\n      // for example when a modal dialog is shown,\n      // cancel all ongoing events\n      .on('touchcancel MSPointerCancel pointercancel', cancelAll)\n\n    // scrolling the window indicates intention of the user\n    // to scroll, not tap or swipe, so cancel all ongoing events\n    $(window).on('scroll', cancelAll)\n  })\n\n  ;['swipe', 'swipeLeft', 'swipeRight', 'swipeUp', 'swipeDown',\n    'doubleTap', 'tap', 'singleTap', 'longTap'].forEach(function(eventName){\n    $.fn[eventName] = function(callback){ return this.on(eventName, callback) }\n  })\n})(Zepto)\n","/****\n * Grapnel\n * https://github.com/baseprime/grapnel\n *\n * @author Greg Sabia Tucker <greg@narrowlabs.com>\n * @link http://basepri.me\n * @version 0.6.4\n *\n * Released under MIT License. See LICENSE.txt or http://opensource.org/licenses/MIT\n*/\n\n!(function(root) {\n\n    function Grapnel(opts) {\n        \"use strict\";\n\n        var self = this; // Scope reference\n        this.events = {}; // Event Listeners\n        this.state = null; // Router state object\n        this.options = opts || {}; // Options\n        this.options.env = this.options.env || (!!(Object.keys(root).length === 0 && process && process.browser !== true) ? 'server' : 'client');\n        this.options.mode = this.options.mode || (!!(this.options.env !== 'server' && this.options.pushState && root.history && root.history.pushState) ? 'pushState' : 'hashchange');\n        this.version = '0.6.4'; // Version\n\n        if ('function' === typeof root.addEventListener) {\n            root.addEventListener('hashchange', function() {\n                self.trigger('hashchange');\n            });\n\n            root.addEventListener('popstate', function(e) {\n                // Make sure popstate doesn't run on init -- this is a common issue with Safari and old versions of Chrome\n                if (self.state && self.state.previousState === null) return false;\n\n                self.trigger('navigate');\n            });\n        }\n\n        return this;\n    };\n    /**\n     * Create a RegExp Route from a string\n     * This is the heart of the router and I've made it as small as possible!\n     *\n     * @param {String} Path of route\n     * @param {Array} Array of keys to fill\n     * @param {Bool} Case sensitive comparison\n     * @param {Bool} Strict mode\n     */\n    Grapnel.regexRoute = function(path, keys, sensitive, strict) {\n        if (path instanceof RegExp) return path;\n        if (path instanceof Array) path = '(' + path.join('|') + ')';\n        // Build route RegExp\n        path = path.concat(strict ? '' : '/?')\n            .replace(/\\/\\(/g, '(?:/')\n            .replace(/\\+/g, '__plus__')\n            .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function(_, slash, format, key, capture, optional) {\n                keys.push({\n                    name: key,\n                    optional: !!optional\n                });\n                slash = slash || '';\n\n                return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')' + (optional || '');\n            })\n            .replace(/([\\/.])/g, '\\\\$1')\n            .replace(/__plus__/g, '(.+)')\n            .replace(/\\*/g, '(.*)');\n\n        return new RegExp('^' + path + '$', sensitive ? '' : 'i');\n    };\n    /**\n     * ForEach workaround utility\n     *\n     * @param {Array} to iterate\n     * @param {Function} callback\n     */\n    Grapnel._forEach = function(a, callback) {\n        if (typeof Array.prototype.forEach === 'function') return Array.prototype.forEach.call(a, callback);\n        // Replicate forEach()\n        return function(c, next) {\n            for (var i = 0, n = this.length; i < n; ++i) {\n                c.call(next, this[i], i, this);\n            }\n        }.call(a, callback);\n    };\n    /**\n     * Add an route and handler\n     *\n     * @param {String|RegExp} route name\n     * @return {self} Router\n     */\n    Grapnel.prototype.get = Grapnel.prototype.add = function(route) {\n        var self = this,\n            middleware = Array.prototype.slice.call(arguments, 1, -1),\n            handler = Array.prototype.slice.call(arguments, -1)[0],\n            request = new Request(route);\n\n        var invoke = function RouteHandler() {\n            // Build request parameters\n            var req = request.parse(self.path());\n            // Check if matches are found\n            if (req.match) {\n                // Match found\n                var extra = {\n                    route: route,\n                    params: req.params,\n                    req: req,\n                    regex: req.match\n                };\n                // Create call stack -- add middleware first, then handler\n                var stack = new CallStack(self, extra).enqueue(middleware.concat(handler));\n                // Trigger main event\n                self.trigger('match', stack, req);\n                // Continue?\n                if (!stack.runCallback) return self;\n                // Previous state becomes current state\n                stack.previousState = self.state;\n                // Save new state\n                self.state = stack;\n                // Prevent this handler from being called if parent handler in stack has instructed not to propagate any more events\n                if (stack.parent() && stack.parent().propagateEvent === false) {\n                    stack.propagateEvent = false;\n                    return self;\n                }\n                // Call handler\n                stack.callback();\n            }\n            // Returns self\n            return self;\n        };\n        // Event name\n        var eventName = (self.options.mode !== 'pushState' && self.options.env !== 'server') ? 'hashchange' : 'navigate';\n        // Invoke when route is defined, and once again when app navigates\n        return invoke().on(eventName, invoke);\n    };\n    /**\n     * Fire an event listener\n     *\n     * @param {String} event name\n     * @param {Mixed} [attributes] Parameters that will be applied to event handler\n     * @return {self} Router\n     */\n    Grapnel.prototype.trigger = function(event) {\n        var self = this,\n            params = Array.prototype.slice.call(arguments, 1);\n        // Call matching events\n        if (this.events[event]) {\n            Grapnel._forEach(this.events[event], function(fn) {\n                fn.apply(self, params);\n            });\n        }\n\n        return this;\n    };\n    /**\n     * Add an event listener\n     *\n     * @param {String} event name (multiple events can be called when separated by a space \" \")\n     * @param {Function} callback\n     * @return {self} Router\n     */\n    Grapnel.prototype.on = Grapnel.prototype.bind = function(event, handler) {\n        var self = this,\n            events = event.split(' ');\n\n        Grapnel._forEach(events, function(event) {\n            if (self.events[event]) {\n                self.events[event].push(handler);\n            } else {\n                self.events[event] = [handler];\n            }\n        });\n\n        return this;\n    };\n    /**\n     * Allow event to be called only once\n     *\n     * @param {String} event name(s)\n     * @param {Function} callback\n     * @return {self} Router\n     */\n    Grapnel.prototype.once = function(event, handler) {\n        var ran = false;\n\n        return this.on(event, function() {\n            if (ran) return false;\n            ran = true;\n            handler.apply(this, arguments);\n            handler = null;\n            return true;\n        });\n    };\n    /**\n     * @param {String} Route context (without trailing slash)\n     * @param {[Function]} Middleware (optional)\n     * @return {Function} Adds route to context\n     */\n    Grapnel.prototype.context = function(context) {\n        var self = this,\n            middleware = Array.prototype.slice.call(arguments, 1);\n\n        return function() {\n            var value = arguments[0],\n                submiddleware = (arguments.length > 2) ? Array.prototype.slice.call(arguments, 1, -1) : [],\n                handler = Array.prototype.slice.call(arguments, -1)[0],\n                prefix = (context.slice(-1) !== '/' && value !== '/' && value !== '') ? context + '/' : context,\n                path = (value.substr(0, 1) !== '/') ? value : value.substr(1),\n                pattern = prefix + path;\n\n            return self.add.apply(self, [pattern].concat(middleware).concat(submiddleware).concat([handler]));\n        }\n    };\n    /**\n     * Navigate through history API\n     *\n     * @param {String} Pathname\n     * @return {self} Router\n     */\n    Grapnel.prototype.navigate = function(path) {\n        return this.path(path).trigger('navigate');\n    };\n\n    Grapnel.prototype.path = function(pathname) {\n        var self = this,\n            frag;\n\n        if ('string' === typeof pathname) {\n            // Set path\n            if (self.options.mode === 'pushState') {\n                frag = (self.options.root) ? (self.options.root + pathname) : pathname;\n                root.history.pushState({}, null, frag);\n            } else if (root.location) {\n                root.location.hash = (self.options.hashBang ? '!' : '') + pathname;\n            } else {\n                root._pathname = pathname || '';\n            }\n\n            return this;\n        } else if ('undefined' === typeof pathname) {\n            // Get path\n            if (self.options.mode === 'pushState') {\n                frag = root.location.pathname.replace(self.options.root, '');\n            } else if (self.options.mode !== 'pushState' && root.location) {\n                frag = (root.location.hash) ? root.location.hash.split((self.options.hashBang ? '#!' : '#'))[1] : '';\n            } else {\n                frag = root._pathname || '';\n            }\n\n            return frag;\n        } else if (pathname === false) {\n            // Clear path\n            if (self.options.mode === 'pushState') {\n                root.history.pushState({}, null, self.options.root || '/');\n            } else if (root.location) {\n                root.location.hash = (self.options.hashBang) ? '!' : '';\n            }\n\n            return self;\n        }\n    };\n    /**\n     * Create routes based on an object\n     *\n     * @param {Object} [Options, Routes]\n     * @param {Object Routes}\n     * @return {self} Router\n     */\n    Grapnel.listen = function() {\n        var opts, routes;\n        if (arguments[0] && arguments[1]) {\n            opts = arguments[0];\n            routes = arguments[1];\n        } else {\n            routes = arguments[0];\n        }\n        // Return a new Grapnel instance\n        return (function() {\n            // TODO: Accept multi-level routes\n            for (var key in routes) {\n                this.add.call(this, key, routes[key]);\n            }\n\n            return this;\n        }).call(new Grapnel(opts || {}));\n    };\n    /**\n     * Create a call stack that can be enqueued by handlers and middleware\n     *\n     * @param {Object} Router\n     * @param {Object} Extend\n     * @return {self} CallStack\n     */\n    function CallStack(router, extendObj) {\n        this.stack = CallStack.global.slice(0);\n        this.router = router;\n        this.runCallback = true;\n        this.callbackRan = false;\n        this.propagateEvent = true;\n        this.value = router.path();\n\n        for (var key in extendObj) {\n            this[key] = extendObj[key];\n        }\n\n        return this;\n    };\n    /**\n     * Build request parameters and allow them to be checked against a string (usually the current path)\n     *\n     * @param {String} Route\n     * @return {self} Request \n     */\n    function Request(route) {\n        this.route = route;\n        this.keys = [];\n        this.regex = Grapnel.regexRoute(route, this.keys);\n    };\n    // This allows global middleware\n    CallStack.global = [];\n    /**\n     * Prevent a callback from being called\n     *\n     * @return {self} CallStack \n     */\n    CallStack.prototype.preventDefault = function() {\n        this.runCallback = false;\n    };\n    /**\n     * Prevent any future callbacks from being called\n     *\n     * @return {self} CallStack \n     */\n    CallStack.prototype.stopPropagation = function() {\n        this.propagateEvent = false;\n    };\n    /**\n     * Get parent state\n     *\n     * @return {Object} Previous state \n     */\n    CallStack.prototype.parent = function() {\n        var hasParentEvents = !!(this.previousState && this.previousState.value && this.previousState.value == this.value);\n        return (hasParentEvents) ? this.previousState : false;\n    };\n    /**\n     * Run a callback (calls to next)\n     *\n     * @return {self} CallStack \n     */\n    CallStack.prototype.callback = function() {\n        this.callbackRan = true;\n        this.timeStamp = Date.now();\n        this.next();\n    };\n    /**\n     * Add handler or middleware to the stack\n     *\n     * @param {Function|Array} Handler or a array of handlers\n     * @param {Int} Index to start inserting\n     * @return {self} CallStack \n     */\n    CallStack.prototype.enqueue = function(handler, atIndex) {\n        var handlers = (!Array.isArray(handler)) ? [handler] : ((atIndex < handler.length) ? handler.reverse() : handler);\n\n        while (handlers.length) {\n            this.stack.splice(atIndex || this.stack.length + 1, 0, handlers.shift());\n        }\n\n        return this;\n    };\n    /**\n     * Call to next item in stack -- this adds the `req`, `event`, and `next()` arguments to all middleware\n     *\n     * @return {self} CallStack \n     */\n    CallStack.prototype.next = function() {\n        var self = this;\n\n        return this.stack.shift().call(this.router, this.req, this, function next() {\n            self.next.call(self);\n        });\n    };\n    /**\n     * Match a path string -- returns a request object if there is a match -- returns false otherwise\n     *\n     * @return {Object} req\n     */\n    Request.prototype.parse = function(path) {\n        var match = path.match(this.regex),\n            self = this;\n\n        var req = {\n            params: {},\n            keys: this.keys,\n            matches: (match || []).slice(1),\n            match: match\n        };\n        // Build parameters\n        Grapnel._forEach(req.matches, function(value, i) {\n            var key = (self.keys[i] && self.keys[i].name) ? self.keys[i].name : i;\n            // Parameter key will be its key or the iteration index. This is useful if a wildcard (*) is matched\n            req.params[key] = (value) ? decodeURIComponent(value) : undefined;\n        });\n\n        return req;\n    };\n\n    // Append utility constructors to Grapnel\n    Grapnel.CallStack = CallStack;\n    Grapnel.Request = Request;\n\n    if ('function' === typeof root.define && !root.define.amd.grapnel) {\n        root.define(function(require, exports, module) {\n            root.define.amd.grapnel = true;\n            return Grapnel;\n        });\n    } else if ('object' === typeof module && 'object' === typeof module.exports) {\n        module.exports = exports = Grapnel;\n    } else {\n        root.Grapnel = Grapnel;\n    }\n\n}).call({}, ('object' === typeof window) ? window : this);\n","\nvar App = ($ => {\n  'use strict';\n\n  var App = {};\n\n  // Router\n  App.router = new Grapnel();\n\n  // Listener\n  App.router.on('navigate', (function listener() {\n\n    // Re-add class at every load\n    setTimeout(_ => {\n\n      const state = App.getCurrentState();\n\n      state.$currentPage.find('[data-class-onload]').forEach(e => {\n\n        const $e = $(e);\n        const classOnLoad = $e.data('class-onload');\n\n        $e.removeClass(classOnLoad);\n        setTimeout(_ => $e.addClass(classOnLoad), 10);\n\n      });\n\n    }, 1);\n\n    return listener;\n\n  })());\n\n  // State\n  let $currentPage = $('.page_home');\n  let $currentStep = $();\n  let pageId = 'home';\n  let stepId = 0;\n\n  // Show a page\n  App.showPage = function (page, step) {\n    $('.page').addClass('page_hidden');\n    $currentPage = $('.page_' + page).removeClass('page_hidden');\n    pageId = page;\n\n    if (step) {\n      var steps = $('.page_' + page).find('.step');\n      steps.addClass('step_hidden');\n\n      $currentStep = steps.filter('.step-' + step).removeClass('step_hidden');\n      stepId = parseInt(step);\n    } else {\n      $currentStep = $();\n      stepId = 0;\n    }\n  };\n\n  App.getCurrentState = _ => ({ $currentPage, $currentStep, pageId, stepId });\n\n  var backAction = e => App.router.navigate('/home');\n  $('.navigation__item_left').on('click', e => backAction(e));\n\n  App.backAction = function (callback) {\n    if (typeof callback === 'function') {\n      backAction = callback;\n      $('.navigation__item_left').removeClass('navigation__item_hidden');\n    } else if (typeof callback === 'string') {\n      backAction = e => App.router.navigate(callback);\n      $('.navigation__item_left').removeClass('navigation__item_hidden');\n    } else {\n      $('.navigation__item_left').addClass('navigation__item_hidden');\n    }\n  };\n\n  // Deffered\n  var deffered = [];\n  App.ready = callback => deffered.push(callback);\n  $(function () {\n    // Ensure deffered is run when all JS is read\n    setTimeout(() => {\n      var callback = deffered.shift();\n      while (callback) {\n        callback($);\n        callback = deffered.shift();\n      }\n    });\n  });\n\n  return App;\n\n})(Zepto);\n","\nApp.ready($ => {\n  'use strict';\n\n  (function cookie() {\n\n    const $cookie = $('[data-animation=\"cookie\"]');\n\n    let clicks = 0;\n    App.router.on('navigate', e => {\n      $cookie.removeClass('product__image_cookie-animated');\n      clicks = 0;\n    });\n\n    $cookie.on('click', function (e) {\n      const $this = $(this);\n      if (++clicks <= 3) {\n        $this.removeClass('product__image_cookie-animated');\n        setTimeout(_ => $this.addClass('product__image_cookie-animated'), 10);\n      } else {\n        App.router.navigate('/' + $this.data('then'));\n      }\n    });\n\n  })();\n\n  (function forest() {\n\n    const $forest = $('[data-animation=\"forest\"]');\n\n    let clicks = 0;\n    App.router.on('navigate', e => {\n      clicks = 0;\n      $forest.addClass('product__image-step7_1');\n      for (let i = 2; i <= 5; i++) {\n        $forest.removeClass('product__image-step7_' + i);\n      }\n    });\n\n    $forest.on('click', function (e) {\n      const $this = $(this);\n      if (++clicks < 5) {\n        $this.removeClass('product__image-step7_' + clicks);\n        $this.addClass('product__image-step7_' + (clicks + 1));\n      } else {\n        App.router.navigate('/' + $this.data('then'));\n      }\n\n    });\n\n  })();\n\n  let chatUnlocked = false;\n\n  (function chat() {\n\n    const $chat = $('[data-animation=\"chat-content\"]');\n    const $chatControls = $('[data-animation=\"chat-controls\"]');\n    const $controlInput = $chatControls.find('.message__answer');\n\n    const $chatReply = $('[data-animation=\"chat-reply\"]');\n    const $chatAnswerWrong = $('[data-animation=\"chat-answer-wrong\"]');\n    const $chatAnswerCorrect = $('[data-animation=\"chat-answer-correct\"]');\n\n    $chatControls.on('submit', function (e) {\n      if ($controlInput.val()) {\n        $chatReply.removeClass('message_hidden').find('.message__text').text($controlInput.val());\n        if ($chatControls.data('answer') == $controlInput.val()) {\n          $chatAnswerCorrect.removeClass('message_hidden');\n        } else {\n          $chatAnswerWrong.removeClass('message_hidden');\n        }\n\n        $($chat).scrollTop($($chat).prop('scrollHeight'));\n        chatUnlocked = true;\n      } else {\n        $controlInput.focus();\n      }\n\n      e.preventDefault();\n    });\n\n  })();\n\n  (function phone3d() {\n\n    const $phone3d = $('[data-animation=\"phone3d\"]');\n\n    let event = Modernizr.touchevents ? 'swipe' : 'click';\n\n    $phone3d.on(event, function (e) {\n\n      if (chatUnlocked) {\n        App.router.navigate('/' + $(this).data('then'));\n      }\n\n    });\n\n  })();\n\n  (function factory() {\n\n    const $factory = $('[data-animation=\"factory\"]');\n    const $counter = $('[data-animation=\"counter\"]');\n    const $item = $factory.find('.product__animation-step-3-2');\n\n    const $text1 = $('.product__subtitle_special-3');\n    const $text2 = $('.product__subtitle_special-4');\n\n    const texts = [\n      ['ce que vous faites a des ', 'consquences'],\n      ['crer des smartphones c\\'est ', 'vider des ocans'],\n      ['un smartphone, c\\'est ', 'un panda tu'],\n      ['changez les choses ', 'ds maintenant !'],\n    ];\n\n    const step = 0.5;\n    let current = 2;\n    let score = 0;\n    let i = 0;\n\n    $factory.on('click', function (e) {\n      e.preventDefault();\n      if (current > 0) {\n        $text1.text(texts[i][0]);\n        $text2.text(texts[i][1]);\n        i++;\n        score += 100 + ~~(Math.random() * 40);\n        $counter.text(score);\n        current -= step;\n        $item.css('transform', 'scale(' + current + ')');\n      }\n    });\n\n  })();\n\n});\n","\nclass Carousel {\n\n  constructor(target) {\n\n    const $target = $(target).eq(0);\n    const _this = this;\n\n    this.elements = {\n      container: $target,\n      slides: $target.find('.carousel__slides'),\n      arrows: $target.find('.carousel__arrows'),\n      items: $target.find('.carousel__item'),\n    };\n\n    this.count = this.elements.items.length;\n\n    this.elements.items.on('click', function (e) {\n      _this.goto($(this).index());\n      e.preventDefault();\n    });\n\n    let arrows = this.elements.arrows;\n\n    arrows.find('.carousel__arrow_left').on('click', function (e) {\n      _this.prev();\n      e.preventDefault();\n    });\n\n    arrows.find('.carousel__arrow_right').on('click', function (e) {\n      _this.next();\n      e.preventDefault();\n    });\n\n    this.elements.container.on('swipeLeft', function (e) {\n      _this.next();\n      e.preventDefault();\n    });\n\n    this.elements.container.on('swipeRight', function (e) {\n      _this.prev();\n      e.preventDefault();\n    });\n\n    this.index = 0;\n\n  }\n\n  prev() {\n    if (this.index > 0) {\n      this.goto(this.index - 1);\n    }\n  }\n\n  next() {\n    if (this.index < this.count - 1) {\n      this.goto(this.index + 1);\n    }\n  }\n\n  goto(index) {\n    if (index < 0 || index >= this.count) {\n      throw new Error('Index ' + index + ' is out of bounds');\n    } else if (index !== this.index) {\n      const width = this.elements.slides.width();\n      this.elements.slides.css('transform', 'translateX(' + -width * index + 'px)');\n      this.elements.items.removeClass('carousel__item_active');\n      this.elements.items.eq(index).addClass('carousel__item_active');\n      this.index = index;\n    }\n  }\n\n  item() {\n    return this.elements.items.eq(this.index);\n  }\n\n}\n","\nApp.ready($ => {\n  'use strict';\n\n  $('[data-goto=\"home\"]').on('click', e => {\n    App.router.navigate('/home');\n    e.preventDefault();\n  });\n\n  App.router.get('/home', req => {\n    App.showPage('home');\n    App.backAction(null);\n  });\n\n});\n","\nApp.ready($ => {\n  'use strict';\n\n  const $progress = $('.navigation-bar__progress');\n  const listener = function () {\n    let path = this.path().toLowerCase();\n    const $navigationBar = $('.navigation-bar');\n\n    if (path.indexOf('/item') === -1) {\n      // We don't have steps\n      $navigationBar.addClass('navigation-bar_hidden');\n      $progress.css('transform', null);\n    } else {\n      // We have steps\n      $navigationBar.removeClass('navigation-bar_hidden');\n\n      setTimeout(_ => {\n\n        let state = App.getCurrentState();\n        let $overlay = $navigationBar.find('.navigation-bar__overlay');\n\n        if (state.pageId === 'item-2' && state.stepId === 1) {\n          // Special case: for phone messages\n          $overlay.hide();\n        } else {\n          $overlay.show();\n        }\n\n        let totalSteps = state.$currentPage.children('.step').length;\n        let progress = 100 - state.stepId * 100 / totalSteps;\n\n        $progress.css('transform', 'translateX(-' + progress + '%)');\n\n      }, 1);\n    }\n\n    setTimeout(_ => {\n      let state = App.getCurrentState();\n      state.$currentStep.children('.product').scrollTop(0);\n    }, 1);\n  };\n\n  // Attach it\n  App.router.on('navigate', listener);\n\n  // And run it now\n  listener.bind(App.router)();\n\n  App.router.get('/item-:id/:step?', function (req) {\n    const id = req.params.id;\n    let step = req.params.step || 'step-1';\n\n    if (step.toLowerCase().indexOf('step') === 0) {\n      step = step.substr(5);\n    }\n\n    App.showPage('item-' + id, step);\n\n    if (step > 1) {\n      App.backAction('/item-' + id + '/step-' + (step - 1));\n    } else {\n      App.backAction('/menu');\n    }\n  });\n\n  $('[data-goto^=\"item-\"]').on('click', function (e) {\n    App.router.navigate('/' + $(this).data('goto'));\n  });\n\n});\n","\nApp.ready($ => {\n  'use strict';\n\n  const carousel = new Carousel('.carousel');\n\n  $('[data-goto=\"menu\"]').on('click', e => {\n    App.router.navigate('/menu');\n    e.preventDefault();\n  });\n\n  $('[data-goto=\"item\"]').on('click', e => {\n    var $item = $('.carousel__item_' + (carousel.index + 1));\n    if ($item.data('enabled')) {\n      App.router.navigate('/item-' + (carousel.index + 1));\n    } else {\n      alert('L\\'objet n\\'est pas encore disponible !');\n    }\n\n    e.preventDefault();\n  });\n\n  App.router.get('/menu', req => {\n    App.showPage('menu');\n    App.backAction('/home');\n  });\n\n});\n"]}